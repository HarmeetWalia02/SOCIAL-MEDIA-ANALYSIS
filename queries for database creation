CREATE TABLE users (
user_id INTEGER AUTO_INCREMENT PRIMARY KEY,
username VARCHAR(255) UNIQUE NOT NULL,
profile_photo_url VARCHAR(255) DEFAULT 'https://picsum.photos/100',
bio VARCHAR(255),
created_at TIMESTAMP DEFAULT NOW()
);
ALTER TABLE users
ADD email VARCHAR(30) NOT NULL;
CREATE TABLE photos (
photo_id INTEGER AUTO_INCREMENT PRIMARY KEY,
10
photo_url VARCHAR(255) NOT NULL UNIQUE,
post_id INTEGER NOT NULL,
created_at TIMESTAMP DEFAULT NOW(),
size FLOAT CHECK (size<5)
);
CREATE TABLE videos (
video_id INTEGER AUTO_INCREMENT PRIMARY KEY,
video_url VARCHAR(255) NOT NULL UNIQUE,
post_id INTEGER NOT NULL,
created_at TIMESTAMP DEFAULT NOW(),
size FLOAT CHECK (size<10)
);
CREATE TABLE post (
post_id INTEGER AUTO_INCREMENT PRIMARY KEY,
photo_id INTEGER,
video_id INTEGER,
user_id INTEGER NOT NULL,
caption VARCHAR(200),
location VARCHAR(50) ,
created_at TIMESTAMP DEFAULT NOW(),
FOREIGN KEY(user_id) REFERENCES users(user_id),
FOREIGN KEY(photo_id) REFERENCES photos(photo_id),
FOREIGN KEY(video_id) REFERENCES videos(video_id)
);
CREATE TABLE comments (
comment_id INTEGER AUTO_INCREMENT PRIMARY KEY,
comment_text VARCHAR(255) NOT NULL,
post_id INTEGER NOT NULL,
user_id INTEGER NOT NULL,
created_at TIMESTAMP DEFAULT NOW(),
